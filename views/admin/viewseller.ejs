<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<style>
  h1,h2,h3,.navbar-brand,.fs-1,.fs-3{
            font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        }
</style>
<body>
    
    <%- include('navbar') %>
    <h1 class="text-center fw-bold my-5">SELLERS</h1>
    <table class="table table-hover border m-3 p-3">
        <thead class="table">
          <tr>
            <th class="col">#</th>
            <th class="col">Name</th>
            <th class="col">Email</th>
            <th class="col">Id</th>
            <th class="col">Action</th>
          </tr>
        </thead>
        <tbody class="table-group-divider">
            <% for(let i = 0; i < data.length; i++) { %>
                <tr>
                    <td class="row<%= i %>"><%= i+1 %></td>
                    <td class="row<%= i %>">Mr.<%= data[i].name %> </td>
                    <td class="row<%= i %>"><%= data[i].email %> </td>
                    <td class="row<%= i %>"><%= data[i]._id %> </td>
                    <td class="">
                      <button type="button" class="btn btn-success row<%= i %> me-4" data-bs-toggle="modal" data-bs-target="#viewModalrow<%= i %>">View</button>
                      <button type="button" class="btn btn-danger row<%= i %>" data-bs-toggle="modal" data-bs-target="#deleteModalrow<%= i %>">Delete</button>
                    </td>
                </tr>
                <!-- View modal --> 
                <div class="modal fade" id="viewModalrow<%= i %>" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">
                      <div class="modal-header">
                        <div class="modal-title fs-5" id="exampleModalLabel"><h1>User Details</h1></div>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <div class="d-flex"><p class="fs-3 mx-3">Id :</p><p class="fs-4 my-2 mx-5"> <%= data[i]._id %></p></div>
                        <div class="d-flex"><p class="fs-3 mx-3">Name : </p><p class="fs-4 my-2 mx-3"> Mr.<%= data[i].name %></p></div>
                        <div class="d-flex"><p class="fs-3 mx-3">Email :</p><p class="fs-4 my-2 mx-3"> <%= data[i].email %></p></div>
                        <div class="d-flex"><p class="fs-3 mx-3">Address :</p><p class="fs-4 my-2 mx-3"> <%= data2[i].phone %></p></div>
                        <div class="d-flex"><p class="fs-3 mx-3">Pincode :</p><p class="fs-4 my-2 mx-3"> <%= data2[i].address %></p></div>
                      </div>
                    </div>
                  </div>
                </div>
          
                <!-- Delete modal -->
                <div class="modal fade" id="deleteModalrow<%= i %>" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                      <div class="modal-header">
                        <div class="modal-title fs-5" id="exampleModalLabel"><h1>Block User</h1></div>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body fs-3">
                        Are you sure you want to block this user <%= data[i].name %>?
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-success" data-bs-dismiss="modal">No</button>
                        <a href="/seller/delete/<%= data[i]._id %>"><button type="button" class="btn btn-danger">Yes</button></a>                      </div>
                    </div>
                  </div>
                </div>
            <% } %>
        </tbody>
      </table>

   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>